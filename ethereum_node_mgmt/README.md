# Overview

slingnode.ethereum\_node\_mgmt is an Ansible role that facilitates common management tasks on servers running Ethereum clients. It is designed to seamlessly work with nodes deployed using [slingnode.ethereum](http://localhost:5000/s/Ib9tX0kORM9rMi1DWQvF/) and [slingnode.ethereum\_observability](https://docs.slingnode.com/slingnode.ethereum\_observability) roles.  The role supports the following tasks:

* validator key import (using command line or Key Manager API)
* Slashing protection DB import and export
* resyncing execution and consensus client

The role uses ephemeral containers to carry out command line tasks. Since the clients deployed using slingnode.ethereum run in containers, we need to execute client command in containers. For this approach to work the data dir variables must be kept in sync between the two roles. This is the default and if you don't change any of the paths, this is not relevant. At the high level, the role will create a temporary container, execute the specified commands and exit. The downside of this approach is that there is no convenient way to know what happened during the execution of the command (to container is ephemeral so logs cannot be inspected). The logging is configured to integrate with Observability stack deployed using [slingnode.ethereum\_observability](https://docs.slingnode.com/slingnode.ethereum\_observability) role which makes it easy to inspect the logs generated by the ephemeral containers. Refer to [Logging](logging.md) section.&#x20;

The API based key import task executes directly on the managed host and does not use a container.&#x20;

## Repositories

Ansible Galaxy: [https://galaxy.ansible.com/slingnode/ethereum\_node\_mgmt](https://galaxy.ansible.com/slingnode/ethereum\_node\_mgmt)

The source code: [https://github.com/SlingNode/slingnode-ansible-ethereum\_node\_mgmt](https://github.com/SlingNode/slingnode-ansible-ethereum\_node\_mgmt)

Example playbooks: [https://github.com/SlingNode/slingnode-ethereum-examples](https://github.com/SlingNode/slingnode-ethereum-examples)

## Supported client tasks

The role supports the same clients and Operating Systems as the slingnode.ethereum role. The table below shows supported tasks validator clients.&#x20;

| Task               | Lighthouse | Prysm   | Teku    | Nimbus |
| ------------------ | ---------- | ------- | ------- | ------ |
| Key import         | CMD/API    | CMD/API | CMD/API | API    |
| Slashing DB import | CMD        | CMD     | CMD     | CMD    |
| Slashing DB export | CMD        | CMD     | CMD     | CMD    |

## Requirements

Ansible Docker module is required on the Ansible controller. It can be installed using the below command:

```sh
ansible-galaxy collection install community.docker:==3.4.0
```

